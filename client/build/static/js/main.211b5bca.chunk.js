(this["webpackJsonpbetter-buy-client"]=this["webpackJsonpbetter-buy-client"]||[]).push([[0],{156:function(e,t,n){},157:function(e,t,n){},168:function(e,t,n){},183:function(e,t,n){},189:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(46),s=n.n(c),i=n(17),o=(n(156),n(24)),l=n(20),d=(n(157),n(266)),j=n.p+"static/media/Logo.417766f0.png",u=n(121),b=n(122),m=Object(a.createContext)(),p=n(1),O=Object(p.jsx)(u.a,{icon:b.a});function g(){var e=Object(a.useContext)(m),t=(e.isAuthenticated,e.logout),n=e.user;a.Fragment,n&&n.name,a.Fragment;return Object(p.jsxs)(d.a,{container:!0,className:"navbar2",justifyContent:"space-between",direction:"row",alignItems:"Center",children:[Object(p.jsxs)(d.a,{container:!0,className:"logo-container",item:!0,xs:12,sm:6,md:6,lg:6,justifyContent:"flex-start",alignItems:"Center",children:[Object(p.jsx)(o.b,{to:"/",item:!0,children:Object(p.jsx)("img",{className:"logo",src:j,alt:"Brand Logo"})}),Object(p.jsx)(o.b,{to:"/",item:!0,className:"logo-text",children:"etter Buy"})]}),Object(p.jsxs)(d.a,{container:!0,item:!0,xs:12,sm:6,md:6,lg:6,className:"navlinks",justifyContent:"flex-end",children:[Object(p.jsx)(o.b,{to:"/register",children:"Register"}),Object(p.jsx)(o.b,{className:"login-link",to:"/login",children:"Login"}),Object(p.jsx)(o.b,{to:"/cart",children:O})]})]})}var h=n(268),x=n(128),f=n.n(x),v=n(259);function y(){return Object(p.jsx)(d.a,{container:!0,item:!0,sm:12,md:3,lg:3,children:Object(p.jsxs)(h.a,{className:"search",sx:{display:"flex",alignItems:"flex-end"},children:[Object(p.jsx)(f.a,{sx:{color:"action.active",mr:1,my:.5}}),Object(p.jsx)(v.a,{id:"input-with-sx",label:"Search Better Buy",variant:"standard",size:"small"})]})})}n(168);function w(){return Object(p.jsxs)(d.a,{container:!0,className:"search-bar",JjustifyContent:"space-around",direction:"row",alignItems:"Center",children:[Object(p.jsxs)(d.a,{className:"category-container",container:!0,item:!0,sm:12,md:9,lg:9,spacing:6,children:[Object(p.jsx)(d.a,{item:!0,children:Object(p.jsx)(o.b,{to:"/products?item=Laptops",children:"Laptops"})}),Object(p.jsx)(d.a,{item:!0,children:Object(p.jsx)(o.b,{to:"/products?item=TVs",children:"TVs"})}),Object(p.jsx)(d.a,{item:!0,children:Object(p.jsx)(o.b,{to:"/products?item=Cameras",children:"Cameras"})}),Object(p.jsx)(d.a,{item:!0,children:Object(p.jsx)(o.b,{to:"/products?item=Speakers",children:"Speakers"})}),Object(p.jsx)(d.a,{item:!0,children:Object(p.jsx)(o.b,{to:"/products?item=Desktops",children:"Desktops"})})]}),Object(p.jsx)(y,{})]})}var S=function(){var e=Object(a.useContext)(m);return Object(a.useEffect)((function(){e.loadUser()}),[]),Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"Home"})})},C=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"About"})})},N=n(11),k=n(129),R=n.n(k),E=(n(183),n(6)),A=n(79),I=n(80),_=n(137),T=n(135),L=n(51),P=n.n(L),D=function(e){Object(_.a)(n,e);var t=Object(T.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return null==this.props.customerRating?Object(p.jsx)("div",{children:"N/A"}):Object(p.jsxs)(P.a,{rating:this.props.customerRating,widgetDimensions:"40px",widgetSpacings:"15px",children:[Object(p.jsx)(P.a.Widget,{widgetRatedColor:"Gold",widgetSpacing:"1px",widgetDimension:"20px"}),Object(p.jsx)(P.a.Widget,{widgetRatedColor:"Gold",widgetSpacing:"1px",widgetDimension:"20px"}),Object(p.jsx)(P.a.Widget,{widgetRatedColor:"Gold",widgetSpacing:"1px",widgetDimension:"20px"}),Object(p.jsx)(P.a.Widget,{widgetRatedColor:"Gold",widgetSpacing:"1px",widgetDimension:"20px"}),Object(p.jsx)(P.a.Widget,{widgetRatedColor:"Gold",widgetSpacing:"1px",widgetDimension:"20px"})]})}}]),n}(a.Component);n(189);function $(e){var t;return Object(p.jsxs)(d.a,(t={container:!0,item:!0,className:"product-list-card",direction:"column",align:"center",justifyContent:"center",alignItems:"center"},Object(E.a)(t,"item",!0),Object(E.a)(t,"xs",12),Object(E.a)(t,"sm",6),Object(E.a)(t,"md",4),Object(E.a)(t,"lg",3),Object(E.a)(t,"children",[Object(p.jsx)("img",{className:"product-main-image",src:e.mainImage,alt:"product-main-image"}),Object(p.jsx)("div",{className:"product-name",children:e.name}),Object(p.jsx)("div",{className:"product-price",children:e.price}),Object(p.jsx)(D,{customerRating:e.customerRating})]),t))}function F(){var e,t=Object(l.g)().search,n=R.a.parse(t).item,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY;switch(n){default:e="abcat0502000";break;case"Cameras":e="abcat0401000";break;case"TVs":e="abcat0101000";break;case"Speakers":e="pcmcat310200050004";break;case"Desktops":e="abcat0501000"}console.log(e);var c=Object(a.useState)(null),s=Object(N.a)(c,2),i=s[0],o=s[1],j=Object(a.useState)(!1),u=Object(N.a)(j,2),b=u[0],m=u[1],O=Object(a.useState)([]),g=Object(N.a)(O,2),h=g[0],x=g[1];return Object(a.useEffect)((function(){fetch("https://api.bestbuy.com/v1/products((categoryPath.id="+e+"))?apiKey="+r+"&format=json").then((function(e){return e.json()})).then((function(e){console.log(e),m(!0),x(e.products),console.log(h)}),(function(e){m(!0),o(e)}))}),[n]),i?Object(p.jsxs)("div",{children:["Error: ",i.message]}):b?Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"category-name",children:n}),Object(p.jsx)(d.a,{container:!0,justifyContent:"space-around",justifyItems:"center",direction:"row",alignItems:"stretch",children:h.map((function(e){return Object(p.jsx)($,{name:e.name,price:e.regularPrice,mainImage:e.image,alternateImage:e.alternateViewsImage,customerRating:e.customerReviewAverage,amountOfReviews:e.customerReviewCount},e.sku)}))})]}):Object(p.jsx)("div",{children:"Loading..."})}var U,G,B,W=n(39),q=n.n(W),V=n(56),H=(n(264),n(87)),K=n(261);Object(K.a)(U||(U=Object(H.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),Object(K.a)(G||(G=Object(H.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),Object(K.a)(B||(B=Object(H.a)(["\n  mutation addProduct(\n    $title: String!\n    $description: String!\n    $price: String!\n  ) {\n    addProduct(\n      title: $title\n      description: $description\n      price: $price\n    ) \n      user {\n        _id\n      }\n  }\n"])));var J=n(132),z=Object(a.createContext)(),M=function(e){var t=Object(a.useContext)(m),n=Object(a.useContext)(z),r=t.register,c=t.error,s=t.clearErrors,o=t.isAuthenticated,l=n.setAlert;Object(a.useEffect)((function(){"User exists"===c&&(l(c,"danger"),console.log("user already defined"),s())}),[c,o,e.history]);var d=Object(a.useState)({name:"",email:"",password:"",password2:""}),j=Object(N.a)(d,2),u=j[0],b=j[1],O=u.name,g=u.email,h=u.password,x=u.password2,f=function(e){return b(Object(i.a)(Object(i.a)({},u),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(p.jsxs)("div",{className:"form-container",children:[Object(p.jsxs)("h1",{children:["Account ",Object(p.jsx)("span",{className:"text-primary",children:"Register"})]}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("Registation submitted!"),""===O||""===g||""===h?l("Please fill all required fiels","danger"):h!==x?l("Passwords do not match","danger"):r({name:O,email:g,password:h})},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"name",children:"Name"}),Object(p.jsx)("input",{className:"name-text-field",type:"text",name:"name",value:O,onChange:f,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(p.jsx)("input",{type:"email",name:"email",value:g,onChange:f,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{type:"password",name:"password",value:h,onChange:f,required:!0,minlength:"6"})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"password2",children:"Password"}),Object(p.jsx)("input",{type:"password",name:"password2",value:x,onChange:f,required:!0,minlength:"6"})]}),Object(p.jsx)("input",{type:"submit",value:"register",className:"btn btn-primary btn-block"})]})]})},Y=function(e){var t=Object(a.useContext)(m),n=t.login,r=t.error,c=t.clearErrors,s=t.isAuthenticated;Object(a.useEffect)((function(){s&&e.history.push("/"),"Ivalid Credentials"===r&&(console.log("user already defined"),c())}),[r,s,e.history]);var o=Object(a.useState)({email:"",password:""}),l=Object(N.a)(o,2),d=l[0],j=l[1],u=d.email,b=d.password,O=function(e){return j(Object(i.a)(Object(i.a)({},d),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(p.jsxs)("div",{className:"form-container",children:[Object(p.jsxs)("h1",{children:["Account ",Object(p.jsx)("span",{className:"text-primary",children:"Login"})]}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("Login submit"),""===u||""===b||n({email:u,password:b})},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(p.jsx)("input",{type:"email",name:"email",value:u,onChange:O,required:!0})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{type:"password",name:"password",value:b,onChange:O})]}),Object(p.jsx)("input",{type:"submit",value:"Login",className:"btn btn-primary btn-block"})]})]})};n(136);var Q=n(50),X=n.n(Q),Z=function(e){e?X.a.defaults.headers.common["x-auth-token"]=e:delete X.a.defaults.headers.common["x-auth-token"]},ee="REGISTER_SUCCESS",te="REGISTER_FAIL",ne="USER_LOADED",ae="AUTH_ERROR",re="LOGIN_SUCCESS",ce="LOGIN_FAIL",se="LOGOUT",ie="CLEAR_ERRORS",oe="SET_ALERT",le="REMOVE_ALERT",de=function(e,t){switch(t.type){case ne:return Object(i.a)(Object(i.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case ee:case re:return localStorage.setItem("token",t.payload.token),Object(i.a)(Object(i.a)(Object(i.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case te:case ae:case ce:case se:return localStorage.removeItem("token"),Object(i.a)(Object(i.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case ie:return Object(i.a)(Object(i.a)({},e),{},{error:null});default:return e}},je=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,error:null},n=Object(a.useReducer)(de,t),r=Object(N.a)(n,2),c=r[0],s=r[1],i=function(){var e=Object(V.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&Z(localStorage.token),e.prev=1,e.next=4,X.a.get("/api/auth");case 4:t=e.sent,s({type:ne,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:ae});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(V.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,X.a.post("/api/users",t,n);case 4:a=e.sent,s({type:ee,payload:a.data}),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:te,payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(V.a)(q.a.mark((function e(t){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,X.a.post("/api/auth",t,n);case 4:a=e.sent,s({type:re,payload:a.data}),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:ce,payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(m.Provider,{value:{token:c.token,isAuthenticated:c.isAuthenticated,loading:c.loading,user:c.user,error:c.error,register:o,loadUser:i,login:l,logout:function(){return s({type:se})},clearErros:function(){return s({type:ie})}},children:e.children})},ue=n(263),be=n(18),me=function(e,t){switch(t.type){case oe:return[].concat(Object(be.a)(e),[t.payload]);case le:return e.filter((function(e){return e.id!==t.payload}));default:return e}},pe=function(e){var t=Object(a.useReducer)(me,[]),n=Object(N.a)(t,2),r=n[0],c=n[1];return Object(p.jsx)(z.Provider,{value:{alerts:r,setAlert:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a=Object(ue.a)();c({type:oe,payload:{msg:e,type:t,id:a}}),setTimeout((function(){return c({type:le,payload:a})}),n)}},children:e.children})},Oe=function(){var e=Object(a.useContext)(z);return e.alerts.length>0&&e.alerts.map((function(e){return Object(p.jsxs)("div",{className:"alert alert-".concat(e.type),children:[Object(p.jsx)("i",{className:"fas fa-info-circle"})," ",e.msg]},e.id)}))},ge=n(134),he=n(260),xe=n(262),fe=n(258),ve=Object(ge.a)({uri:"/graphql"}),ye=Object(J.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(i.a)(Object(i.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),we=new he.a({link:ye.concat(ve),cache:new xe.a});localStorage.token&&Z(localStorage.token);var Se=function(){return Object(p.jsx)(fe.a,{client:we,children:Object(p.jsx)(je,{children:Object(p.jsx)(pe,{children:Object(p.jsx)(o.a,{children:Object(p.jsxs)(a.Fragment,{className:"App",children:[Object(p.jsx)(g,{}),Object(p.jsx)(w,{}),Object(p.jsxs)("div",{className:"conainter",children:[Object(p.jsx)(Oe,{}),Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/",component:S}),Object(p.jsx)(l.b,{exact:!0,path:"/Product",component:F}),Object(p.jsx)(l.b,{exact:!0,path:"/login",component:Y}),Object(p.jsx)(l.b,{exact:!0,path:"/register",component:M}),Object(p.jsx)(l.b,{exact:!0,path:"/about",component:C})]})]})]})})})})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,269)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Se,{})}),document.getElementById("root")),Ce()}},[[208,1,2]]]);
//# sourceMappingURL=main.211b5bca.chunk.js.map